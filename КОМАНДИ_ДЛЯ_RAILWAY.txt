═══════════════════════════════════════════════════════════
  ВИКОНАЙТЕ ЦІ КОМАНДИ В ТЕРМІНАЛІ (по черзі)
═══════════════════════════════════════════════════════════

1. Перейдіть в директорію:
───────────────────────────────────────────────────────────
cd "/Users/olehkaminskyi/Desktop/go messenger/hibernation-proxy"


2. Прив'яжіться до сервісу (відкриється меню вибору):
───────────────────────────────────────────────────────────
railway service

Виберіть сервіс зі списку (має бути щось типу "hibernation-proxy")


3. Встановіть змінну оточення:
───────────────────────────────────────────────────────────
railway variables --set "DO_API_TOKEN=YOUR_DIGITALOCEAN_API_TOKEN"


4. Отримайте Railway URL:
───────────────────────────────────────────────────────────
railway domain


5. Додайте custom domain для messenger:
───────────────────────────────────────────────────────────
railway domain messenger.kaminskyi.chat


6. Додайте custom domain для turn:
───────────────────────────────────────────────────────────
railway domain turn.kaminskyi.chat


7. Перевірте логи (щоб переконатись що все працює):
───────────────────────────────────────────────────────────
railway logs


8. Перевірте health endpoint:
───────────────────────────────────────────────────────────
Після отримання Railway URL з кроку 4, виконайте:

curl https://[ваш-railway-url].up.railway.app/health

Має повернути:
{
  "status": "ok",
  "service": "hibernation-proxy",
  "uptime": 12.34
}


═══════════════════════════════════════════════════════════
  ЩО ДАЛІ - НАЛАШТУВАННЯ DNS В CLOUDFLARE
═══════════════════════════════════════════════════════════

Після виконання команди 5 і 6, Railway покаже вам CNAME.

Потім йдіть в CloudFlare:
1. https://dash.cloudflare.com
2. Виберіть домен "kaminskyi.chat"
3. DNS → Add record

Для messenger.kaminskyi.chat:
- Type: CNAME
- Name: messenger
- Target: [Railway URL без https://]
- Proxy: ❌ DNS only (СІРА хмарка!)
- Save

Для turn.kaminskyi.chat:
- Type: CNAME
- Name: turn
- Target: [той самий Railway URL]
- Proxy: ❌ DNS only
- Save


═══════════════════════════════════════════════════════════
  ПЕРЕВІРКА ПІСЛЯ НАЛАШТУВАННЯ DNS
═══════════════════════════════════════════════════════════

Зачекайте 5-10 хвилин, потім:

curl https://messenger.kaminskyi.chat/api/health

Має повернути health check вашого messenger дроплета:
{
  "status": "ready",
  "redis": true,
  "sfu": true,
  "uptime": 1234.56
}


═══════════════════════════════════════════════════════════
  ГОТОВО! 🚀
═══════════════════════════════════════════════════════════

Система повністю налаштована і працює!
Економія: $230/рік (80% зниження витрат)
