# üöÄ –í–∏–∫–æ–Ω–∞–π—Ç–µ –¶—ñ –ö–æ–º–∞–Ω–¥–∏ –¥–ª—è –î–µ–ø–ª–æ—é Railway

## –ö—Ä–æ–∫ 1: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è –≤ Railway

–í—ñ–¥–∫—Ä–∏–π—Ç–µ —Ç–µ—Ä–º—ñ–Ω–∞–ª —Ç–∞ –≤–∏–∫–æ–Ω–∞–π—Ç–µ:

```bash
railway login
```

–¶–µ –≤—ñ–¥–∫—Ä–∏—î –±—Ä–∞—É–∑–µ—Ä. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ GitHub.

## –ö—Ä–æ–∫ 2: –ó–∞–ø—É—Å—Ç—ñ—Ç—å –°–∫—Ä–∏–ø—Ç –î–µ–ø–ª–æ—é

–ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ—ó –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –≤–∏–∫–æ–Ω–∞–π—Ç–µ:

```bash
cd "/Users/olehkaminskyi/Desktop/go messenger/hibernation-proxy"
./deploy-railway.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
- ‚úÖ –°—Ç–≤–æ—Ä–∏—Ç—å –ø—Ä–æ–µ–∫—Ç "hibernation-proxy"
- ‚úÖ –í—Å—Ç–∞–Ω–æ–≤–∏—Ç—å DO_API_TOKEN
- ‚úÖ –ó–∞–¥–µ–ø–ª–æ—ó—Ç—å –∫–æ–¥
- ‚úÖ –ü–æ–∫–∞–∂–µ Railway URL
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç—å health check

## –ö—Ä–æ–∫ 3: –û—Ç—Ä–∏–º–∞–π—Ç–µ Railway URL

–ü—ñ—Å–ª—è –¥–µ–ø–ª–æ—é –≤–∏–∫–æ–Ω–∞–π—Ç–µ:

```bash
railway domain
```

–°–∫–æ–ø—ñ—é–π—Ç–µ URL (—Ç–∏–ø—É: `hibernation-proxy-production-abc123.up.railway.app`)

## –ö—Ä–æ–∫ 4: –î–æ–¥–∞–π—Ç–µ Custom Domain

```bash
railway domain messenger.kaminskyi.chat
```

Railway –ø–æ–∫–∞–∂–µ CNAME –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è DNS.

## –ö—Ä–æ–∫ 5: –ù–∞–ª–∞—à—Ç—É–π—Ç–µ CloudFlare DNS

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ https://dash.cloudflare.com
2. –í–∏–±–µ—Ä—ñ—Ç—å –¥–æ–º–µ–Ω `kaminskyi.chat`
3. DNS ‚Üí Add record

**–î–ª—è messenger.kaminskyi.chat:**
- Type: **CNAME**
- Name: `messenger`
- Target: `[–≤–∞—à-railway-url].up.railway.app` (–±–µ–∑ https://)
- Proxy status: ‚ùå **DNS only** (–°–Ü–†–ê —Ö–º–∞—Ä–∫–∞, –Ω–µ –ø–æ–º–∞—Ä–∞–Ω—á–µ–≤–∞!)
- TTL: Auto
- **Save**

**–î–ª—è turn.kaminskyi.chat (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ):**
```bash
railway domain turn.kaminskyi.chat
```

–ü–æ—Ç—ñ–º –¥–æ–¥–∞–π—Ç–µ CNAME:
- Type: **CNAME**
- Name: `turn`
- Target: `[—Ç–æ–π —Å–∞–º–∏–π railway-url].up.railway.app`
- Proxy status: ‚ùå **DNS only**
- **Save**

## –ö—Ä–æ–∫ 6: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞

### –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Railway Health:

```bash
curl https://[–≤–∞—à-railway-url].up.railway.app/health
```

–ú–∞—î –ø–æ–≤–µ—Ä–Ω—É—Ç–∏:
```json
{
  "status": "ok",
  "service": "hibernation-proxy",
  "uptime": 12.34
}
```

### –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Custom Domain (–ø—ñ—Å–ª—è DNS propagation):

```bash
curl https://messenger.kaminskyi.chat/api/health
```

–ú–∞—î –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ health check –≤–∞—à–æ–≥–æ messenger –¥—Ä–æ–ø–ª–µ—Ç–∞.

## –î–æ–¥–∞—Ç–∫–æ–≤—ñ –ö–æ–º–∞–Ω–¥–∏

### –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥–∏:
```bash
railway logs
```

### –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç—É:
```bash
railway status
```

### –í—ñ–¥–∫—Ä–∏—Ç–∏ dashboard:
```bash
railway open
```

### –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∑–º—ñ–Ω–Ω—ñ:
```bash
railway variables
```

## Troubleshooting

### –Ø–∫—â–æ —Å–∫—Ä–∏–ø—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è:

```bash
chmod +x /Users/olehkaminskyi/Desktop/go\ messenger/hibernation-proxy/deploy-railway.sh
```

### –Ø–∫—â–æ Railway –Ω–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å package.json:

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ –≤–∏ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó:
```bash
pwd
# –ú–∞—î –±—É—Ç–∏: /Users/olehkaminskyi/Desktop/go messenger/hibernation-proxy
```

### –Ø–∫—â–æ DNS –Ω–µ –ø—Ä–∞—Ü—é—î:

1. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ CloudFlare proxy **–í–ò–ú–ö–ù–ï–ù–ò–ô** (—Å—ñ—Ä–∞ —Ö–º–∞—Ä–∫–∞)
2. –ó–∞—á–µ–∫–∞–π—Ç–µ 5-10 —Ö–≤–∏–ª–∏–Ω –Ω–∞ DNS propagation
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ: `dig messenger.kaminskyi.chat`

## –û—á—ñ–∫—É–≤–∞–Ω–∏–π –†–µ–∑—É–ª—å—Ç–∞—Ç

–ß–µ—Ä–µ–∑ 5-10 —Ö–≤–∏–ª–∏–Ω –ø—ñ—Å–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è DNS:

‚úÖ Railway proxy –ø—Ä–∞—Ü—é—î 24/7
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–æ–∫–∏–¥–∞—î –¥—Ä–æ–ø–ª–µ—Ç–∏
‚úÖ –ü–æ–∫–∞–∑—É—î –∫—Ä–∞—Å–∏–≤—É —Å—Ç–æ—Ä—ñ–Ω–∫—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
‚úÖ –ï–∫–æ–Ω–æ–º—ñ—è $230/—Ä—ñ–∫

---

**–ì–æ—Ç–æ–≤–æ! –°–∏—Å—Ç–µ–º–∞ –ø–æ–≤–Ω—ñ—Å—Ç—é –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∞! üéâ**
